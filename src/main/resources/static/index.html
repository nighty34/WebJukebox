<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Ibid umm"/>
    <meta name="copyright" content="moi"/>
    <meta name="project" content="TODO"/>
    <meta name="description" content="TODO"/>
    <link rel="stylesheet" href="stylesheet.css">
    <title>TITLE</title>
</head>
<body>
<table>

    <tr>
        <td class="tbl">
            <table id="table00" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img00" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt00" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table01" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img01" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt01" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table02" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img02" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt02" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table03" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img03" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt03" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table04" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img04" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt04" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table05" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img05" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt05" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table06" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img06" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt06" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table07" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img07" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt07" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table08" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img08" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt08" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table09" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img09" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt09" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table010" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img010" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt010" class="b" float="left"></p></th>
                </tr>
            </table>
        </td>
        <td class="tbl">
            <table id="table10" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img10" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt10" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table11" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img11" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt11" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table12" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img12" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt12" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table13" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img13" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt13" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table14" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img14" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt14" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table15" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img15" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt15" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table16" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img16" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt16" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table17" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img17" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt17" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table18" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img18" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt18" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table19" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img19" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt19" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table110" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img110" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt110" class="b" float="left"></p></th>
                </tr>
            </table>

        </td>
        <td class="tbl">
            <table id="table20" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img20" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt20" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table21" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img21" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt21" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table22" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img22" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt22" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table23" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img23" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt23" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table24" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img24" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt24" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table25" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img25" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt25" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table26" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img26" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt26" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table27" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img27" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt27" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table28" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img28" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt28" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table29" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img29" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt29" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table210" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img210" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt210" class="b" float="left"></p></th>
                </tr>
            </table>
        </td>
        <td class="tbl">
            <table id="table30" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img30" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt30" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table31" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img31" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt31" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table32" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img32" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt32" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table33" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img33" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt33" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table34" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img34" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt34" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table35" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img35" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt35" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table36" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img36" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt36" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table37" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img37" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt37" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table38" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img38" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt38" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table39" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img39" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt39" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table310" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img310" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt310" class="b" float="left"></p></th>
                </tr>
            </table>

        </td>
        <td class="tbl">
            <table id="table40" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img40" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt40" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table41" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img41" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt41" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table42" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img42" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt42" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table43" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img43" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt43" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table44" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img44" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt44" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table45" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img45" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt45" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table46" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img46" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt46" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table47" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img47" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt47" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table48" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img48" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt48" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table49" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img49" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt49" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table410" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img410" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt410" class="b" float="left"></p></th>
                </tr>
            </table>

        </td>
        <td class="tbl">
            <table id="table50" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img50" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt50" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table51" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img51" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt51" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table52" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img52" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt52" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table53" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img53" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt53" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table54" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img54" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt54" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table55" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img55" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt55" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table56" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img56" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt56" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table57" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img57" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt57" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table58" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img58" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt58" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table59" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img59" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt59" class="b" float="left"></p></th>
                </tr>
            </table>

            <table id="table510" class="tabbeleBox tableNotused">
                <tr>
                    <th><img id="img510" class="logo" src="ressource/images/white.png" alt="logo"></th>
                    <th><p id="txt510" class="b" float="left"></p></th>
                </tr>
            </table>

        </td>
    </tr>
    <tr>
        <td class="tbl tblGenere"><p>Rap</p></td>
        <td class="tbl tblGenere"><p>Pop</p></td>
        <td class="tbl tblGenere"><p>Rock</p></td>
        <td class="tbl tblGenere"><p>Metal</p></td>
        <td class="tbl tblGenere"><p>House</p></td>
        <td class="tbl tblGenere"><p>Punk</p></td>
    </tr>
</table>



<section class="section">
    <table id="player">
        <tr>
            <td><img id="imgCover" src="ressource/images/white.png" width=60px height=60px></td>
            <td><input id="imgPlayer" type="image" src="ressource/images/play-button.png"
                       width=20px height=20px onclick="switchOnOff()" ></td>
            <td>
                <table>
                    <tr>
                        <td id="songTitle"></td>
                    </tr>
                    <tr>
                        <td><input type="range" min="0" max="100" value="0" class="slider" id="myRange"></td>
                    </tr>
                </table>
            </td>
            <td id="anzStreams"><p>Anzahl Streams: </p><p id="streamsid" class="b" float="left"></td>
            <td><input type="range" min="0" max="100" value="100" class="slider" id="myVol"></td>
        </tr>
    </table>
</section>

<script>
    getdata();

    var isplaying = false;
    var audio1 = new Audio(null);
    var posSlider = document.getElementById("myRange");
    var volSlider = document.getElementById("myVol");

	
	function getdata() {

        var xmlHttp = new XMLHttpRequest();


        xmlHttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var javaobj = JSON.parse(xmlHttp.response);


                var songs = [[], []];
                var songsiter = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];


                for (var i = 0; i < 20; i++) {
                    var name = javaobj[i].name;
                    var genreID = javaobj[i].genre.genreID -1;

                    document.getElementById("txt" + genreID + songsiter[genreID]).innerHTML = name;
                    document.getElementById("table" + genreID + songsiter[genreID]).className = "tabbeleBox tableVisable ";
                    document.getElementById("img" + genreID + songsiter[genreID]).src = "music/" + javaobj[i].coverpath;
                    document.getElementById("txt" + genreID + songsiter[genreID]).className = i;
                    var actObj = javaobj[i];
                    document.getElementById("txt" + genreID + songsiter[genreID]).addEventListener("click", function () {
                        var lol = actObj;
                        playSongat(lol);
                    }, false);
                    songsiter[genreID]++;
                }
            }
        };
        xmlHttp.open("GET", "/rest/allsongs/", true);
        xmlHttp.send();




    }



    function playSongat(obj) {
        document.getElementById("imgCover").src = "music/" + obj.coverpath;
        document.getElementById("songTitle").innerText = obj.name;
        document.getElementById("streamsid").innerText = obj.streams;
        audio1 = new Audio("music/" + obj.filepath);
        xmlHttp = new XMLHttpRequest();
        var url = "/rest/plusonestream";
        xmlHttp.open("POST", url, true);
        var fromdata = new FormData();
        fromdata.append("songID", obj.songID);
        xmlHttp.send(fromdata);
    }

    function getCount(object) {
        var keys = Object.keys(object);
        for (var i = 0, len = keys.length; i < len; i++) {
        }
        return i;
    }

    function setSliderMax() {
        posSlider.setAttribute('max', audio.duration);
        posSlider.setAttribute('min', 0);
    }

    function setVol() {
        audio1.volume = volSlider.value / 100;
    }

    function switchOnOff() {
        audio1.addEventListener("timeupdate", setSliderVal);
        audio1.addEventListener("loadedmetadata", setSliderMax);
        volSlider.addEventListener("input", setVol);
        if (isplaying === false) {
            isplaying = true;
            audio1.play();
            document.getElementById("imgPlayer").src = "ressource/images/pause.png";
        } else {
            audio1.pause();
            isplaying = false;
            console.log(isplaying);
            document.getElementById("imgPlayer").src = "ressource/images/play-button.png";
        }
    }

    function setSliderVal() {
        posSlider.value = audio1.currentTime;
    }

    /**
     * hat nicht funktioniert wie gewünscht
     posSlider.addEventListener("input", setPos)
     function setPos() {
        audio1.currentTime = posSlider.value;
    }
     */

</script>
</body>
</html>